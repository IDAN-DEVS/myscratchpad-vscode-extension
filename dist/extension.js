(()=>{"use strict";var e={123:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFileIcon=t.getFileTypeIcon=t.FileTypeEnum=void 0,function(e){e.JavaScript="js",e.TypeScript="ts",e.HTML="html",e.CSS="css",e.JSON="json",e.Markdown="md",e.Text="txt",e.SQL="sql",e.Custom="custom"}(r||(t.FileTypeEnum=r={})),t.getFileTypeIcon=e=>{switch(e){case r.JavaScript:return"symbol-method";case r.TypeScript:return"symbol-interface";case r.HTML:return"browser";case r.CSS:return"symbol-color";case r.JSON:return"symbol-object";case r.Markdown:return"markdown";case r.SQL:return"database";case r.Text:return"file-text";default:return(0,t.getCustomFileIcon)(e)}},t.getCustomFileIcon=e=>({py:"symbol-method",rb:"ruby",go:"go",java:"coffee",c:"symbol-method",cpp:"symbol-method",cs:"symbol-class",php:"symbol-method",swift:"symbol-method",kt:"symbol-class",rs:"symbol-method",dart:"symbol-method",lua:"symbol-method",r:"graph",sh:"terminal",bash:"terminal",ps1:"terminal",bat:"terminal",yaml:"symbol-object",yml:"symbol-object",toml:"symbol-object",ini:"gear",cfg:"gear",xml:"symbol-object",vue:"symbol-color",svelte:"symbol-color",jsx:"symbol-method",tsx:"symbol-interface",scss:"symbol-color",sass:"symbol-color",less:"symbol-color",styl:"symbol-color",coffee:"coffee",elm:"symbol-method",hs:"symbol-method",clj:"symbol-method",ex:"symbol-method",erl:"symbol-method",vim:"gear",dockerfile:"package",tf:"symbol-object",hcl:"symbol-object",cody:"robot","*":"file-code"}[e.toLowerCase()]||"file-code")},265:function(e,t,r){var a,n=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=a(e),c=0;c<r.length;c++)"default"!==r[c]&&n(t,e,r[c]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){console.log('Congratulations, your extension "MyScratchPad" is now active!');const t=s.join(e.globalStorageUri.fsPath,"scratchFiles");let r=i.workspace.workspaceFolders?s.basename(i.workspace.workspaceFolders[0].uri.fsPath):"default";const a=i.workspace.workspaceFolders?s.join(e.globalStorageUri.fsPath,"workspaceScratchFiles",r):s.join(e.globalStorageUri.fsPath,"workspaceScratchFiles"),n=new l.ScratchpadProvider(t,"global"),o=new d.ScratchpadService(t,"global"),c=new l.ScratchpadProvider(a,"workspace"),m=new d.ScratchpadService(a,"workspace"),u=i.window.createTreeView("scratchpadExplorer",{treeDataProvider:n,showCollapseAll:!1}),p=i.window.createTreeView("workspaceScratchpadExplorer",{treeDataProvider:c,showCollapseAll:!1});e.subscriptions.push(i.commands.registerCommand("myscratchpad.createScratchFile",(async()=>{await o.createScratchFile(),n.refresh()})),i.commands.registerCommand("myscratchpad.createWorkspaceScratchFile",(async()=>{await m.createScratchFile(),c.refresh()})),i.commands.registerCommand("myscratchpad.deleteScratchFile",(async e=>{const t=e;if(t?.scratchFile){const e=t.scratchFile.path.includes("workspaceScratchFiles"),{service:r,provider:a}=e?{service:m,provider:c}:{service:o,provider:n};await r.deleteScratchFile(t.scratchFile)&&a.refresh()}})),i.commands.registerCommand("myscratchpad.renameScratchFile",(async e=>{const t=e;if(t?.scratchFile){const e=t.scratchFile.path.includes("workspaceScratchFiles"),{service:r,provider:a}=e?{service:m,provider:c}:{service:o,provider:n};await r.renameScratchFile(t.scratchFile)&&a.refresh()}})),i.commands.registerCommand("myscratchpad.refreshScratchpad",(()=>{n.refresh()})),i.commands.registerCommand("myscratchpad.refreshWorkspaceScratchpad",(()=>{c.refresh()})),i.commands.registerCommand("myscratchpad.createScratchFileFromSelection",(async()=>{await o.createScratchFileFromSelection(),n.refresh()})),i.commands.registerCommand("myscratchpad.createWorkspaceScratchFileFromSelection",(async()=>{await m.createScratchFileFromSelection(),c.refresh()})),i.commands.registerCommand("myscratchpad.createScratchFileFromFile",(async e=>{await o.createScratchFileFromFile(e),n.refresh()})),i.commands.registerCommand("myscratchpad.createWorkspaceScratchFileFromFile",(async e=>{await m.createScratchFileFromFile(e),c.refresh()})),i.commands.registerCommand("myscratchpad.addFileToCodyAi",(async e=>{await h.codyService.executeMentionFileCommand(e)})),u,p)},t.deactivate=function(){};const i=c(r(398)),s=c(r(928)),l=r(521),d=r(315),h=r(529)},315:function(e,t,r){var a,n=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=a(e),c=0;c<r.length;c++)"default"!==r[c]&&n(t,e,r[c]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ScratchpadService=void 0;const i=c(r(398)),s=c(r(896)),l=c(r(928));t.ScratchpadService=class{scratchpadDir;scope;constructor(e,t="global"){this.scratchpadDir=e,this.scope=t,s.existsSync(e)||s.mkdirSync(e,{recursive:!0})}async createScratchFileFromSelection(){const e=i.window.activeTextEditor;if(!e)return void i.window.showErrorMessage("No active editor found");const t=e.selection,r=e.document.getText(t);if(!r.trim())return void i.window.showErrorMessage("No text selected");let a;if(e.document.fileName){const t=l.basename(e.document.fileName),r=l.extname(t);a=`${l.basename(t,r)}_scratch${r}`}await this.createScratchFile(r,a)}async createScratchFileFromFile(e){try{const t=await i.workspace.fs.readFile(e),r=Buffer.from(t).toString("utf8"),a=l.basename(e.fsPath),n=l.extname(a),o=`${l.basename(a,n)}_scratch${n}`;await this.createScratchFile(r,o)}catch(e){i.window.showErrorMessage(`Failed to read file: ${e}`)}}async createScratchFile(e,t){const r=t||this.generateDefaultName(),a=await i.window.showInputBox({prompt:"Enter a name for your scratch file (include extension, e.g., note.txt, script.js, data.json)",value:r,validateInput:e=>{if(!e)return"Name cannot be empty";if(!e.includes("."))return"Please include a file extension (e.g., .txt, .js, .md)";const t=l.join(this.scratchpadDir,e);return s.existsSync(t)?"A file with this name already exists":null}});if(!a)return;const n=l.extname(a).slice(1),o=l.join(this.scratchpadDir,a);let c;if(void 0!==e)c=e;else try{c=(await i.env.clipboard.readText()).trim()||this.getInitialContent(n)}catch(e){c=this.getInitialContent(n)}s.writeFileSync(o,c);const d=await i.workspace.openTextDocument(o);await i.window.showTextDocument(d)}async deleteScratchFile(e){if("Delete"===await i.window.showWarningMessage(`Are you sure you want to delete '${e.name}'?`,{modal:!0},"Delete"))try{return s.unlinkSync(e.path),!0}catch(e){return console.error("Failed to delete scratch file:",e),i.window.showErrorMessage(`Failed to delete scratch file: ${e}`),!1}return!1}async renameScratchFile(e){const t=l.basename(e.name,`.${e.extension}`),r=await i.window.showInputBox({prompt:"Enter a new name for your scratch file",value:t,validateInput:t=>{if(!t)return"Name cannot be empty";const r=l.join(this.scratchpadDir,`${t}.${e.extension}`);return s.existsSync(r)&&r!==e.path?"A file with this name already exists":null}});if(!r)return!1;const a=l.join(this.scratchpadDir,`${r}.${e.extension}`);try{return s.renameSync(e.path,a),!0}catch(e){return console.error("Failed to rename scratch file:",e),i.window.showErrorMessage(`Failed to rename scratch file: ${e}`),!1}}generateDefaultName(){return`scratch_${(new Date).toISOString().replace(/[-:]/g,"").replace("T","_").substring(0,15)}.txt`}getInitialContent(e){const t=`// Created on ${(new Date).toLocaleString()}`;switch(e.toLowerCase()){case"js":return`${t}\n\n// JavaScript Scratch File\nconsole.log('Hello, World!');\n`;case"ts":return`${t}\n\n// TypeScript Scratch File\ninterface Person {\n  name: string;\n  age: number;\n}\n\nconst greeting = (person: Person): string => {\n  return \`Hello, \${person.name}!\`;\n};\n\nconsole.log(greeting({ name: 'World', age: 0 }));\n`;case"html":return`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Scratch</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 2rem;\n    }\n  </style>\n</head>\n<body>\n  <h1>HTML Scratch</h1>\n  <p>Created on ${(new Date).toLocaleString()}</p>\n</body>\n</html>\n`;case"css":return`/* Created on ${(new Date).toLocaleString()} */\n\n/* CSS Scratch File */\nbody {\n  font-family: Arial, sans-serif;\n  margin: 0;\n  padding: 20px;\n  color: #333;\n  background-color: #f5f5f5;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n`;case"json":return`{\n  "created": "${(new Date).toISOString()}",\n  "name": "JSON Scratch",\n  "items": [\n    {\n      "id": 1,\n      "value": "Example"\n    }\n  ]\n}\n`;case"md":case"markdown":return`# Markdown Scratch\n\nCreated on ${(new Date).toLocaleString()}\n\n## Heading\n\nSample text here.\n\n* List item 1\n* List item 2\n* List item 3\n\n## Code Example\n\n\`\`\`javascript\nconsole.log('Hello, World!');\n\`\`\`\n`;case"sql":return`-- Created on ${(new Date).toLocaleString()}\n\n-- SQL Scratch File\nSELECT *\nFROM users\nWHERE active = true\nORDER BY created_at DESC\nLIMIT 10;\n`;default:const r=this.getCommentCharForExtension(e);return`${r} Created on ${(new Date).toLocaleString()}\n\n${r} ${e.toUpperCase()} Scratch File\n\n`}}getCommentCharForExtension(e){return{py:"#",rb:"#",sh:"#",bash:"#",r:"#",pl:"#",php:"//",go:"//",java:"//",c:"//",cpp:"//",cs:"//",swift:"//",kt:"//",scala:"//",rust:"//",rs:"//",dart:"//",lua:"--",hs:"--",elm:"--",ex:"#",exs:"#",erl:"%",clj:";",lisp:";",vim:'"',ini:";",cfg:"#",yaml:"#",yml:"#",toml:"#",bat:"REM",ps1:"#"}[e.toLowerCase()]||"//"}}},398:e=>{e.exports=require("vscode")},521:function(e,t,r){var a,n=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=a(e),c=0;c<r.length;c++)"default"!==r[c]&&n(t,e,r[c]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ScratchpadProvider=t.ScratchpadTreeItem=void 0;const i=c(r(398)),s=c(r(928)),l=c(r(896)),d=r(123);class h extends i.TreeItem{scratchFile;collapsibleState;constructor(e,t){super(e.name,t),this.scratchFile=e,this.collapsibleState=t,this.iconPath=new i.ThemeIcon((0,d.getFileTypeIcon)(e.extension)),this.command={command:"vscode.open",title:"Open Scratch File",arguments:[i.Uri.file(e.path)]},this.contextValue="scratchFile";const r=new Date(e.created).toLocaleString(),a=new Date(e.lastModified).toLocaleString();this.tooltip=`${e.name}\nCreated: ${r}\nLast Modified: ${a}`,this.description=e.extension}}t.ScratchpadTreeItem=h,t.ScratchpadProvider=class{scratchpadDir;scope;_onDidChangeTreeData=new i.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;constructor(e,t="global"){this.scratchpadDir=e,this.scope=t,l.existsSync(e)||l.mkdirSync(e,{recursive:!0})}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e}async getChildren(e){return e?[]:this.getScratchFiles()}getScratchFiles(){try{const e=["Code","Code - Insiders","Cursor","Windsurf"],t=this.scratchpadDir.split("/User/")[0],r=this.scratchpadDir.split("/User/")[1],a=e.map((e=>{const a=t.split("/").slice(0,-1).join("/");return s.join(a,e,"User",r)})),n=[],o=new Set;return a.forEach((e=>{l.existsSync(e)&&l.readdirSync(e).map((t=>s.join(e,t))).filter((e=>!l.statSync(e).isDirectory())).forEach((e=>{const t=s.basename(e);o.has(t)||(o.add(t),n.push(e))}))})),n.map((e=>{const t=l.statSync(e),r=s.basename(e),a={name:r,extension:s.extname(r).slice(1),path:e,created:t.birthtime.getTime(),lastModified:t.mtime.getTime()};return new h(a,i.TreeItemCollapsibleState.None)})).sort(((e,t)=>t.scratchFile.lastModified-e.scratchFile.lastModified))}catch(e){return console.error("Error reading scratchpad directory:",e),[]}}}},529:function(e,t,r){var a,n=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=a(e),c=0;c<r.length;c++)"default"!==r[c]&&n(t,e,r[c]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.codyService=void 0;const i=c(r(398)),s="Cody Ai",l="cody.mention.file";t.codyService={executeMentionFileCommand:async function(e){try{if(!function(){try{const e=i.extensions.getExtension("sourcegraph.cody-ai");return e?e.isActive?(i.window.showInformationMessage(`${s} extension is ready.`),!0):(i.window.showErrorMessage(`${s} extension is not active.`),!1):(i.window.showErrorMessage(`${s} extension is not installed or is disabled.`),!1)}catch(e){return console.error("Error checking for cody extension",e),i.window.showErrorMessage(`Failed to check ${s} extension status.`),!1}}())return;await i.commands.executeCommand(l,e),i.window.showInformationMessage(`File added as context in ${s}.`)}catch(e){i.window.showErrorMessage(`Failed to trigger ${s} to mention file: ${e.message}`)}}}},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")}},t={},r=function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}(265);module.exports=r})();